package com.vandenbreemen.com.vandenbreemen.videogameusr.game.videogame2

import com.vandenbreemen.com.vandenbreemen.videogameusr.view.ComposeRasterRender
import com.vandenbreemen.viddisplayrast.data.GameDataRequirements
import com.vandenbreemen.viddisplayrast.game.Runner

object VideoGame2SpriteAddresses {

    const val STANDING_STILL_LEFT = 0
    const val RUNNING_LEFT_FRAME_1 = 1
    const val RUNNING_LEFT_FRAME_2 = 2
    const val RUNNING_RIGHT_FRAME_1 = 3
    const val RUNNING_RIGHT_FRAME_2 = 4
    const val STANDING_STILL_RIGHT = 5

}

fun main() {

    val requirement = GameDataRequirements(200, 150, 16, 16, 2048)

    //  First sprite:  The player, standing still
    //  16x16 array of bytes

    requirement.setData(VideoGame2SpriteAddresses.STANDING_STILL_LEFT, byteArrayOf(
        0, 0, 0, 0, 0, 0, 0, -75, -75, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 121, -75, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 121, 121, -75, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 121, 121, 121, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 25, 121, 121, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, -71, -71, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 32, 32, 32, -96, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 0, 32, 32, 0, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 32, 32, 32, 35, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 3, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 3, 3, 0, 0, 0, 3, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 63, 63, 0, 0, -65, 63, 63, 0, 0, 0, 0
    ))

    //spriteEditor(requirement, 0, "requirement", 800)

    //  Character running frame 1
    requirement.setData(VideoGame2SpriteAddresses.RUNNING_LEFT_FRAME_1, byteArrayOf(
        0, 0, 0, 0, 0, 0, 0, -75, -75, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 121, -75, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 121, 121, -75, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 121, 121, 121, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 25, 121, 121, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, -71, -71, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 32, 32, 32, -96, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 0, 32, 32, 0, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 32, 32, 32, 35, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 32, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 3, 3, 0, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 3, 3, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 3, 3, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 63, 63, 63, 0, 0, -107, -107, 0, 0, 0, 0, 0, 0
    ))

    //  Character running frame 2

    requirement.setData(VideoGame2SpriteAddresses.RUNNING_LEFT_FRAME_2, byteArrayOf(
        0, 0, 0, 0, 0, 0, 0, -75, -75, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 121, -75, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 121, 121, -75, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 121, 121, 121, -75, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 25, 121, 121, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, -71, -71, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 32, 32, 32, -96, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 0, 32, 32, 0, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 32, 32, 32, 35, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 32, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, -107, -107, 3, 3, 3, 3, -107, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, -107, -107, 3, 3, -107, -107, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -107, 0, -107, -107, 0, 0, 0, 0, 0, 0
    ))

    //  Set up the opposite direction movement
    //  Running frame 1:
    requirement.setData(VideoGame2SpriteAddresses.RUNNING_RIGHT_FRAME_1, byteArrayOf(
        0, 0, 0, 0, 0, 0, 0, -75, -75, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, -75, 121, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, -75, 121, 121, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, 121, 121, 121, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 121, 121, 25, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, -71, -71, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, -96, 32, 32, 32, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 0, 32, 32, 0, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 35, 32, 32, 32, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 32, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 0, 3, 3, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 0, 0, 3, 3, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 3, 3, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -107, -107, 0, 0, 63, 63, 63, 0, 0, 0
    ))

    //  Frame 2
    requirement.setData(VideoGame2SpriteAddresses.RUNNING_RIGHT_FRAME_2, byteArrayOf(
        0, 0, 0, 0, 0, 0, 0, -75, -75, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, -75, 121, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, -75, 121, 121, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, 121, 121, 121, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 121, 121, 25, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, -71, -71, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, -96, 32, 32, 32, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 0, 32, 32, 0, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 35, 32, 32, 32, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 32, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, -107, 3, 3, 3, 3, -107, -107, 0, 0, 0, 0,
        0, 0, 0, 0, 0, -107, -107, 3, 3, -107, -107, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -107, -107, 0, -107, 0, 0, 0, 0, 0, 0
    ))

    //  Stationary
    requirement.setData(VideoGame2SpriteAddresses.STANDING_STILL_RIGHT, byteArrayOf(
        0, 0, 0, 0, 0, 0, 0, -75, -75, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, -75, 121, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, -75, 121, 121, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, -75, 121, 121, 121, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 121, 121, 25, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, -71, -71, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, -96, 32, 32, 32, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 0, 32, 32, 0, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 32, 0, 35, 32, 32, 32, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 32, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 3, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 3, 0, 0, 0, 3, 3, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 63, 63, -65, 0, 0, 63, 63, 0, 0, 0, 0, 0
    ))


    //spriteEditor(requirement, 4, "requirement", 800)

    //  Set up the game proper!

    val runner = Runner(requirement)

    val model = VideoGame2Model(requirement.screenWidth, requirement.screenHeight, requirement.spriteWidth, requirement.spriteHeight)
    val controller = VideoGame2Controller(model, runner)
    ComposeRasterRender.playGameInWindow(runner, controller, 60, 800)



}